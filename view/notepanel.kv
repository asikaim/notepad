#:kivy 1.11.1
#:import utils kivy.utils

<Notepad@BoxLayout>:
    size_hint: (None, None)
    size: (290, 585)
    orientation: "vertical"

<TabLabel@Label>:
    size_hint: (None, None)
    size: (290, 40)
    orientation: "horizontal"
    halign: "left"
    valign: "middle"
    markup: True
    text_size: self.size
    padding_x: 2
    spacing: .2, .2

<Note@BoxLayout>:
    size_hint: (None, None)
    size: (290, 545)
    orientation: "vertical"
    padding_x: 2  


<NotePanel>:
    id: NotePanel
    size_hint: (None, None)
    size: (290, 630)
    pos_hint: {"center_x": .43, "center_y": .5}
    orientation: "horizontal"
    do_default_tab: False
    tab_width: 35
    tab_height: 35

    text_view: textInput
    next_note: next_btn
    previous_note: back_btn

    TabbedPanelItem:
        id: "1"
        text: "1"
        current_note: root.get_latest_note("1")
        background_color: root.get_category_color("1")
        Notepad:
            TabLabel:
                text: root.get_category_name("1")
            Note:
                TextInput:
                    id: textInput
                    focus: True
                    background_color: root.get_category_color("1")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5, "center_y": .08}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        on_press: root.change_note("previous")
                        background_color: 255, 255, 255, 255
                        Image:
                            source: "./icons/left.png"
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                            size: 35, 35
                            allow_stretch: True
                    Button:
                        id: next_btn
                        on_press: root.change_note("next")
                        background_color: 255, 255, 255, 255
                        Image:
                            source: "./icons/right.png"
                            center_x: self.parent.center_x
                            center_y: self.parent.center_y
                            size: 35, 35
                            allow_stretch: True
                        
    TabbedPanelItem:
        id: "2"
        text: "2"
        current_note: root.get_latest_note("2")
        background_color: root.get_category_color("2")
        Notepad:
            TabLabel:
                text: root.get_category_name("2")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("2")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "3"
        text: "3"
        current_note: root.get_latest_note("3")
        background_color: root.get_category_color("3")
        Notepad:
            TabLabel:
                text: root.get_category_name("3")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("3")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "4"
        text: "4"
        current_note: root.get_latest_note("4")
        background_color: root.get_category_color("4")
        Notepad:
            TabLabel:
                text: root.get_category_name("4")
                background_color: root.get_category_color("4")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("4")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "5"
        text: "5"
        current_note: root.get_latest_note("5")
        background_color: root.get_category_color("5")
        Notepad:
            TabLabel:
                text: root.get_category_name("5")
                background_color: root.get_category_color("5")
            Note:
                TextInput:
                    id: textInput
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "6"
        text: "6"
        current_note: root.get_latest_note("6")
        background_color: root.get_category_color("6")
        Notepad:
            TabLabel:
                text: root.get_category_name("6")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("6")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "7"
        text: "7"
        current_note: root.get_latest_note("7")
        background_color: root.get_category_color("7")
        Notepad:
            TabLabel:
                text: root.get_category_name("7")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("7")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")
    TabbedPanelItem:
        id: "8"
        text: "8"
        current_note: root.get_latest_note("8")
        background_color: root.get_category_color("8")
        Notepad:
            TabLabel:
                text: root.get_category_name("8")
            Note:
                TextInput:
                    id: textInput
                    background_color: root.get_category_color("8")
                BoxLayout:
                    size_hint: (None, None)
                    size: (290, 35)
                    pos_hint: {"center_x": .5}
                    orientation: "horizontal"
                    spacing: 220
                    Button:
                        id: back_btn
                        text: "<"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("previous")
                    Button:
                        id: next_btn
                        text: ">"
                        color: 0, 0, 0, 1
                        size_hint: (None, None)
                        width: 35
                        height: 35
                        background_color: 255, 255, 255, 255
                        on_press: root.change_note("next")